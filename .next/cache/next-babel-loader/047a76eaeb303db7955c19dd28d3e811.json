{"ast":null,"code":"var _jsxFileName = \"/home/cryptokowsik/Dapp-dev-nextjs/pages/index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport web3 from '../web3.js';\nimport Storage from '../ethereum/build/contracts/Storage.json';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"useStyles\", makeStyles(theme => ({\n      root: {\n        flexGrow: 1\n      },\n      title: {\n        flexGrow: 1\n      }\n    })));\n  }\n\n  static async getInitialProps() {\n    try {\n      const accounts = await web3.eth.getAccounts();\n      const networkId = await web3.eth.net.getId();\n      const StorageDeployedAddress = Storage.networks[networkId].address;\n      const StorageInstance = await new web3.eth.Contract(Storage.abi, StorageDeployedAddress);\n      const name = await StorageInstance.methods.name().call();\n      return {\n        accounts,\n        StorageInstance,\n        name\n      };\n    } catch (err) {\n      alert(`Failed to load web3, accounts, or contract. Check console for details.`);\n      console.log(error);\n    }\n  }\n\n  render() {\n    const {\n      accounts,\n      StorageInstance,\n      name\n    } = this.props;\n    return __jsx(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, __jsx(AppBar, {\n      position: \"static\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, __jsx(Toolbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }\n    }, __jsx(Typography, {\n      variant: \"h6\",\n      className: classes.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }, \"News\"), __jsx(Button, {\n      color: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, StorageInstance.options.address))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/cryptokowsik/Dapp-dev-nextjs/pages/index.js"],"names":["React","Component","web3","Storage","makeStyles","AppBar","Toolbar","Typography","Button","App","theme","root","flexGrow","title","getInitialProps","accounts","eth","getAccounts","networkId","net","getId","StorageDeployedAddress","networks","address","StorageInstance","Contract","abi","name","methods","call","err","alert","console","log","error","render","props","classes","options"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,OAAP,MAAoB,0CAApB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;;AACA,MAAMC,GAAN,SAAkBR,SAAlB,CAA2B;AAAA;AAAA;;AAAA,uCAkBXG,UAAU,CAAEM,KAAD,KAAY;AAC/BC,MAAAA,IAAI,EAAE;AACJC,QAAAA,QAAQ,EAAE;AADN,OADyB;AAI/BC,MAAAA,KAAK,EAAE;AACLD,QAAAA,QAAQ,EAAE;AADL;AAJwB,KAAZ,CAAD,CAlBC;AAAA;;AACvB,eAAaE,eAAb,GAA8B;AAC1B,QAAG;AACC,YAAMC,QAAQ,GAAG,MAAMb,IAAI,CAACc,GAAL,CAASC,WAAT,EAAvB;AACA,YAAMC,SAAS,GAAG,MAAMhB,IAAI,CAACc,GAAL,CAASG,GAAT,CAAaC,KAAb,EAAxB;AACA,YAAMC,sBAAsB,GAAGlB,OAAO,CAACmB,QAAR,CAAiBJ,SAAjB,EAA4BK,OAA3D;AACA,YAAMC,eAAe,GAAG,MAAM,IAAItB,IAAI,CAACc,GAAL,CAASS,QAAb,CAAsBtB,OAAO,CAACuB,GAA9B,EAAmCL,sBAAnC,CAA9B;AACA,YAAMM,IAAI,GAAG,MAAMH,eAAe,CAACI,OAAhB,CAAwBD,IAAxB,GAA+BE,IAA/B,EAAnB;AACA,aAAO;AAACd,QAAAA,QAAD;AAAWS,QAAAA,eAAX;AAA2BG,QAAAA;AAA3B,OAAP;AACH,KAPD,CAOC,OAAMG,GAAN,EAAU;AACPC,MAAAA,KAAK,CACA,wEADA,CAAL;AAGEC,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACL;AAEJ;;AAWDC,EAAAA,MAAM,GAAE;AACJ,UAAM;AAACpB,MAAAA,QAAD;AAAWS,MAAAA,eAAX;AAA2BG,MAAAA;AAA3B,QAAiC,KAAKS,KAA5C;AACA,WACI;AAAK,MAAA,SAAS,EAAEC,OAAO,CAAC1B,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,MAAD;AAAQ,MAAA,QAAQ,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,MAAC,UAAD;AAAY,MAAA,OAAO,EAAC,IAApB;AAAyB,MAAA,SAAS,EAAE0B,OAAO,CAACxB,KAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,EAIA,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyBW,eAAe,CAACc,OAAhB,CAAwBf,OAAjD,CAJA,CADJ,CADJ,CADJ;AAYH;;AAzCsB;;AA2C3B,eAAed,GAAf","sourcesContent":["import React ,{Component} from 'react';\nimport web3 from '../web3.js';\nimport Storage from '../ethereum/build/contracts/Storage.json'; \nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nclass App extends Component{\n    static async getInitialProps(){\n        try{\n            const accounts = await web3.eth.getAccounts();\n            const networkId = await web3.eth.net.getId();\n            const StorageDeployedAddress = Storage.networks[networkId].address;\n            const StorageInstance = await new web3.eth.Contract(Storage.abi, StorageDeployedAddress);\n            const name = await StorageInstance.methods.name().call();\n            return {accounts, StorageInstance,name}\n        }catch(err){\n            alert(\n                `Failed to load web3, accounts, or contract. Check console for details.`,\n              );\n              console.log(error);\n        }\n        \n    }\n\n    useStyles = makeStyles((theme) => ({\n        root: {\n          flexGrow: 1,\n        },\n        title: {\n          flexGrow: 1,\n        },\n      }));\n\n    render(){\n        const {accounts, StorageInstance,name}=this.props;\n        return(\n            <div className={classes.root}>\n                <AppBar position=\"static\">\n                    <Toolbar>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        News\n                    </Typography>\n                    <Button color=\"inherit\">{StorageInstance.options.address}</Button>\n                    </Toolbar>\n                </AppBar>\n            </div>\n        )\n    }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}